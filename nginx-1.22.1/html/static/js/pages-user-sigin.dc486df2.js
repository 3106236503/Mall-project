(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-sigin"],{"1b26":function(n,t,a){"use strict";a.d(t,"b",(function(){return e})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var e=function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("v-uni-view",{staticClass:"sign-page-container"},[a("v-uni-view",{staticClass:"page-header"},[a("v-uni-view",{staticClass:"back-btn",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.navBack.apply(void 0,arguments)},touchstart:function(t){arguments[0]=t=n.$handleEvent(t),n.backBtnTouch.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"back-icon"},[n._v("â†")]),a("v-uni-text",{staticClass:"back-text"},[n._v("ä¸ªäººä¸­å¿ƒ")])],1),a("v-uni-view",{staticClass:"header-title-container"},[a("v-uni-text",{staticClass:"header-title"},[n._v("æ¯æ—¥ç­¾åˆ°")]),a("v-uni-text",{staticClass:"header-subtitle",style:{color:n.getSignStreakColor()}},[n._v(n._s(n.continuousDays>0?"å·²è¿ç»­ç­¾åˆ°"+n.continuousDays+"å¤©":"å¼€å¯ä½ çš„ç­¾åˆ°ä¹‹æ—…å§"))])],1),a("v-uni-view",{staticClass:"empty-btn"})],1),a("v-uni-view",{staticClass:"data-section"},[a("v-uni-view",{staticClass:"data-card",class:{"data-card--glow":n.continuousDays>=7}},[a("v-uni-view",{staticClass:"data-item"},[a("v-uni-view",{staticClass:"data-label"},[a("v-uni-text",[n._v("ç´¯è®¡ç­¾åˆ°")]),n.continuousDays>=7?a("v-uni-text",{staticClass:"streak-badge"},[n._v(n._s(n.continuousDays>=30?"ğŸ†":n.continuousDays>=14?"ğŸŒŸ":"ğŸ”¥"))]):n._e()],1),a("v-uni-view",{staticClass:"data-value",attrs:{"number-animation":n.totalSignDays}},[n._v(n._s(n.totalSignDays)),a("v-uni-text",{staticClass:"data-unit"},[n._v("å¤©")])],1)],1),a("v-uni-view",{staticClass:"data-divider"}),a("v-uni-view",{staticClass:"data-item"},[a("v-uni-view",{staticClass:"data-label"},[a("v-uni-text",[n._v("ç´¯è®¡ç§¯åˆ†")])],1),a("v-uni-view",{staticClass:"data-value",attrs:{"number-animation":n.userInfo.integration||0}},[n._v(n._s(n.userInfo.integration||0)),a("v-uni-text",{staticClass:"data-unit"},[n._v("åˆ†")])],1)],1)],1)],1),!n.isCurrentMonthPage||n.isTodaySigned||n.signLoading?n._e():a("v-uni-view",{staticClass:"sign-now-section"},[a("v-uni-button",{staticClass:"sign-now-btn",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.handleSignToday.apply(void 0,arguments)},touchstart:function(t){arguments[0]=t=n.$handleEvent(t),n.signBtnTouch.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"sign-icon"},[n._v("âœ¨")]),a("v-uni-text",{staticClass:"sign-text"},[n._v("ç«‹å³ç­¾åˆ° +"+n._s(n.todayReward||5)+"ç§¯åˆ†")]),n.signLoading?a("v-uni-text",{staticClass:"sign-loading"},[n._v("âŸ³")]):n._e()],1),a("v-uni-view",{staticClass:"sign-tip"},[a("v-uni-text",[n._v("ä»Šæ—¥ç­¾åˆ°å¯è·")]),a("v-uni-text",{staticClass:"tip-highlight"},[n._v(n._s(n.todayReward||5)+"ç§¯åˆ†")]),n.continuousDays>=3?a("v-uni-text",[n._v("ï¼ˆè¿ç»­ç­¾åˆ°åŠ æˆï¼‰")]):n._e()],1)],1),n.showCelebration?a("v-uni-view",{staticClass:"success-celebration"},[a("v-uni-view",{staticClass:"celebration-icon"},[n._v("ğŸ‰")]),a("v-uni-view",{staticClass:"celebration-title"},[n._v("ç­¾åˆ°æˆåŠŸï¼")]),a("v-uni-view",{staticClass:"celebration-desc"},[n._v("è·å¾—"+n._s(n.lastSignIntegration||0)+"ç§¯åˆ†+"+n._s(n.lastSignGrowth||0)+"æˆé•¿å€¼")]),n._l(10,(function(t,e){return a("v-uni-view",{key:e,staticClass:"score-fall",style:{left:80*Math.random()+10+"%",animationDelay:.1*e+"s",animationDuration:1*Math.random()+1.5+"s"}},[n._v("ğŸ’")])})),a("v-uni-button",{staticClass:"celebration-btn",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.closeCelebration.apply(void 0,arguments)}}},[n._v("ç»§ç»­æ¢ç´¢")])],2):n._e(),a("v-uni-view",{staticClass:"calendar-section"},[a("v-uni-view",{staticClass:"calendar-header"},[a("v-uni-button",{staticClass:"month-btn",attrs:{disabled:n.isPrevMonthDisabled},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.changeMonth(-1)}}},[n._v("â†")]),a("v-uni-view",{staticClass:"month-title"},[n._v(n._s(n.currentYear)+"å¹´"+n._s(n.currentMonth)+"æœˆ")]),a("v-uni-button",{staticClass:"month-btn",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.changeMonth(1)}}},[n._v("â†’")])],1),a("v-uni-view",{staticClass:"week-header"},n._l(["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"],(function(t){return a("v-uni-view",{key:t,staticClass:"week-day"},[n._v(n._s(t))])})),1),a("v-uni-view",{staticClass:"date-grid"},n._l(n.dateList,(function(t,e){return a("v-uni-view",{key:e,staticClass:"date-card",class:{"date-card--empty":!t.isCurrentMonth,"date-card--signed":t.isSigned,"date-card--today":t.isToday,"date-card--makeup":t.canMakeup&&!t.isSigned,"date-card--selected":t.date===n.selectedMakeupDate},on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.handleDateClick(t)},touchstart:function(t){arguments[0]=t=n.$handleEvent(t),n.dateCardTouch(e)}}},[a("v-uni-view",{staticClass:"date-num"},[n._v(n._s(t.day))]),a("v-uni-view",{staticClass:"date-tags"},[t.isSigned?a("v-uni-view",{staticClass:"tag tag--signed"},[a("v-uni-text",{staticClass:"tag-icon"},[n._v("âœ“")]),a("v-uni-text",{staticClass:"tag-text"},[n._v("å·²ç­¾")])],1):n._e(),t.canMakeup&&!t.isSigned?a("v-uni-view",{staticClass:"tag tag--makeup"},[a("v-uni-text",{staticClass:"tag-icon"},[n._v("ğŸ”„")]),a("v-uni-text",{staticClass:"tag-text"},[n._v("å¯è¡¥")])],1):n._e()],1)],1)})),1)],1),n.hasMakeupDate?a("v-uni-view",{staticClass:"makeup-section"},[a("v-uni-view",{staticClass:"makeup-header"},[a("v-uni-view",{staticClass:"makeup-title"},[a("v-uni-text",{staticClass:"title-icon"},[n._v("ğŸ”„")]),a("v-uni-text",[n._v("è¡¥ç­¾æ“ä½œ")])],1),a("v-uni-view",{staticClass:"makeup-desc"},[n._v("é€‰ä¸­å¯è¡¥ç­¾æ—¥æœŸï¼Œæ¶ˆè€—50ç§¯åˆ†è¡¥ç­¾ï¼ˆå½“å‰ç§¯åˆ†ï¼š"),a("v-uni-text",{staticClass:"desc-highlight"},[n._v(n._s(n.userInfo.integration||0)+"åˆ†")]),n._v("ï¼‰")],1)],1),n.selectedMakeupDate?a("v-uni-view",{staticClass:"makeup-selected"},[a("v-uni-text",{staticClass:"selected-icon"},[n._v("ğŸ“")]),a("v-uni-text",[n._v("å·²é€‰ä¸­ï¼š"+n._s(n.selectedMakeupDate))]),(n.userInfo.integration||0)>=50?a("v-uni-view",{staticClass:"makeup-cost"},[a("v-uni-text",{staticClass:"cost-icon"},[n._v("ğŸ’")]),a("v-uni-text",[n._v("å°†æ¶ˆè€—50ç§¯åˆ†")])],1):n._e()],1):n._e(),a("v-uni-button",{staticClass:"makeup-btn",attrs:{disabled:!n.selectedMakeupDate||n.makeupLoading||(n.userInfo.integration||0)<50},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.handleMakeup.apply(void 0,arguments)},touchstart:function(t){arguments[0]=t=n.$handleEvent(t),n.makeupBtnTouch.apply(void 0,arguments)}}},[n.makeupLoading?n._e():a("v-uni-text",[a("v-uni-text",{staticClass:"btn-icon"},[n._v("ğŸ’")]),n._v("ç¡®è®¤è¡¥ç­¾ï¼ˆæ¶ˆè€—50ç§¯åˆ†ï¼‰")],1),n.makeupLoading?a("v-uni-text",[a("v-uni-text",{staticClass:"btn-loading"},[n._v("âŸ³")]),n._v("è¡¥ç­¾ä¸­...")],1):n._e()],1)],1):n._e(),a("v-uni-view",{staticClass:"rule-section"},[a("v-uni-view",{staticClass:"rule-header",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.toggleRule.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"rule-title"},[a("v-uni-text",{staticClass:"title-icon"},[n._v("ğŸ“œ")]),a("v-uni-text",[n._v("ç­¾åˆ°è§„åˆ™")])],1),a("v-uni-view",{staticClass:"rule-toggle",class:{"rule-toggle--open":n.showRule}},[n._v(n._s(n.showRule?"â–²":"â–¼"))])],1),n.showRule?a("v-uni-view",{staticClass:"rule-content",style:{maxHeight:n.showRule?"500upx":"0"}},n._l(n.ruleList,(function(t,e){return a("v-uni-view",{key:e,staticClass:"rule-item",style:{animationDelay:.1*e+"s"}},[a("v-uni-view",{staticClass:"rule-num"},[n._v(n._s(e+1))]),a("v-uni-view",{staticClass:"rule-text"},[n._v(n._s(t))])],1)})),1):n._e()],1),n.showPopup?a("v-uni-view",{staticClass:"popup-mask",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.closePopup.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"popup-content",on:{click:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t)}}},[a("v-uni-view",{staticClass:"popup-icon",class:"success"===n.popupType?"icon--success":"icon--error"},[n._v(n._s("success"===n.popupType?"âœ…":"âš ï¸"))]),a("v-uni-view",{staticClass:"popup-title"},[n._v(n._s(n.popupTitle))]),a("v-uni-view",{staticClass:"popup-desc"},[n._v(n._s(n.popupDesc))]),a("v-uni-button",{staticClass:"popup-btn",on:{click:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.closePopup.apply(void 0,arguments)}}},[n._v("çŸ¥é“äº†")])],1)],1):n._e()],1)},i=[]},2852:function(n,t,a){"use strict";a.r(t);var e=a("1b26"),i=a("afa8");for(var o in i)["default"].indexOf(o)<0&&function(n){a.d(t,n,(function(){return i[n]}))}(o);a("cf9e");var r=a("828b"),s=Object(r["a"])(i["default"],e["b"],e["c"],!1,null,"1f553754",null,!1,e["a"],void 0);t["default"]=s.exports},5520:function(n,t,a){var e=a("c86c");t=e(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 1. å…¨å±€æ ·å¼ï¼šæ¸å˜èƒŒæ™¯+ç»Ÿä¸€å­—ä½“ */.sign-page-container[data-v-1f553754]{min-height:100vh;background:linear-gradient(120deg,#fff8e1,#fff3e0);padding:%?30?% %?20?% %?80?%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}\n/* 2. é¡¶éƒ¨æ ‡é¢˜åŒº */.page-header[data-v-1f553754]{display:flex;justify-content:space-between;align-items:center;margin-bottom:%?40?%}.back-btn[data-v-1f553754]{display:flex;align-items:center;gap:%?8?%;color:#ff9800;font-size:%?24?%;padding:%?8?% %?16?%;border-radius:%?20?%;transition:all .2s}.back-btn--active[data-v-1f553754]{background:rgba(255,152,0,.1);-webkit-transform:scale(.95);transform:scale(.95)}.back-icon[data-v-1f553754]{font-size:%?28?%}.header-title-container[data-v-1f553754]{text-align:center}.header-title[data-v-1f553754]{font-size:%?36?%;font-weight:700;color:#333;margin-bottom:%?8?%}.header-subtitle[data-v-1f553754]{font-size:%?20?%;opacity:.8}\n/* 3. æ ¸å¿ƒæ•°æ®åŒºï¼šç«‹ä½“èƒ¶å›Šå¡ç‰‡ */.data-section[data-v-1f553754]{margin-bottom:%?40?%}.data-card[data-v-1f553754]{background:#fff;border-radius:%?60?%;padding:%?30?% %?40?%;display:flex;justify-content:space-around;align-items:center;box-shadow:0 %?10?% %?30?% rgba(255,152,0,.1);transition:all .3s}.data-card--glow[data-v-1f553754]{box-shadow:0 %?10?% %?40?% rgba(255,192,72,.2)}.data-item[data-v-1f553754]{text-align:center}.data-label[data-v-1f553754]{font-size:%?22?%;color:#666;margin-bottom:%?12?%;position:relative;display:inline-block}.streak-badge[data-v-1f553754]{position:absolute;right:%?-24?%;top:%?-8?%;font-size:%?24?%}.data-value[data-v-1f553754]{font-size:%?42?%;font-weight:700;color:#ff9800;display:flex;align-items:center;justify-content:center;gap:%?8?%}.data-unit[data-v-1f553754]{font-size:%?24?%;font-weight:400;color:#999}.data-divider[data-v-1f553754]{width:%?2?%;height:%?80?%;background:linear-gradient(transparent,#eee,transparent)}\n/* 4. ç«‹å³ç­¾åˆ°æŒ‰é’®ï¼šç‰¹è‰²åŠ¨æ•ˆ */.sign-now-section[data-v-1f553754]{margin-bottom:%?40?%;text-align:center}.sign-now-btn[data-v-1f553754]{width:90%;height:%?100?%;background:linear-gradient(90deg,#ff9800,#ff7a45);color:#fff;border-radius:%?50?%;font-size:%?28?%;font-weight:600;border:none;display:flex;align-items:center;justify-content:center;gap:%?16?%;margin:0 auto %?16?%;box-shadow:0 %?8?% %?20?% rgba(255,122,69,.3);transition:all .3s}.sign-now-btn--active[data-v-1f553754]{-webkit-transform:scale(.98);transform:scale(.98);box-shadow:0 %?4?% %?12?% rgba(255,122,69,.2)}.sign-icon[data-v-1f553754]{font-size:%?36?%;-webkit-animation:rotate-data-v-1f553754 2s linear infinite;animation:rotate-data-v-1f553754 2s linear infinite}@-webkit-keyframes rotate-data-v-1f553754{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate-data-v-1f553754{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sign-loading[data-v-1f553754]{font-size:%?32?%;-webkit-animation:spin-data-v-1f553754 1s linear infinite;animation:spin-data-v-1f553754 1s linear infinite}@-webkit-keyframes spin-data-v-1f553754{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin-data-v-1f553754{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sign-tip[data-v-1f553754]{font-size:%?20?%;color:#666}.tip-highlight[data-v-1f553754]{color:#ff7a45;font-weight:500}\n/* 5. ç­¾åˆ°æˆåŠŸåº†ç¥åŠ¨ç”» */.success-celebration[data-v-1f553754]{position:fixed;top:0;left:0;right:0;bottom:0;background:hsla(0,0%,100%,.95);z-index:1000;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:%?30?%}.celebration-icon[data-v-1f553754]{font-size:%?100?%;-webkit-animation:bounce-data-v-1f553754 1s ease infinite alternate;animation:bounce-data-v-1f553754 1s ease infinite alternate}@-webkit-keyframes bounce-data-v-1f553754{0%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(1.2);transform:scale(1.2)}}@keyframes bounce-data-v-1f553754{0%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(1.2);transform:scale(1.2)}}.celebration-title[data-v-1f553754]{font-size:%?40?%;font-weight:700;color:#ff9800}.celebration-desc[data-v-1f553754]{font-size:%?24?%;color:#666}.score-fall[data-v-1f553754]{position:absolute;top:%?-50?%;font-size:%?36?%;-webkit-animation:fall-data-v-1f553754 2s ease forwards;animation:fall-data-v-1f553754 2s ease forwards;opacity:0}@-webkit-keyframes fall-data-v-1f553754{0%{-webkit-transform:translateY(0) rotate(0deg);transform:translateY(0) rotate(0deg);opacity:1}100%{-webkit-transform:translateY(%?800?%) rotate(1turn);transform:translateY(%?800?%) rotate(1turn);opacity:0}}@keyframes fall-data-v-1f553754{0%{-webkit-transform:translateY(0) rotate(0deg);transform:translateY(0) rotate(0deg);opacity:1}100%{-webkit-transform:translateY(%?800?%) rotate(1turn);transform:translateY(%?800?%) rotate(1turn);opacity:0}}.celebration-btn[data-v-1f553754]{margin-top:%?50?%;padding:%?16?% %?60?%;background:#ff9800;color:#fff;border-radius:%?40?%;font-size:%?26?%;border:none;box-shadow:0 %?6?% %?16?% rgba(255,152,0,.2);transition:all .2s}.celebration-btn[data-v-1f553754]:active{-webkit-transform:scale(.95);transform:scale(.95);box-shadow:0 %?4?% %?12?% rgba(255,152,0,.1)}\n/* 6. æ—¥å†åŒºåŸŸï¼šç‰¹è‰²å¡ç‰‡ */.calendar-section[data-v-1f553754]{background:#fff;border-radius:%?30?%;padding:%?30?% %?20?%;margin-bottom:%?30?%;box-shadow:0 %?6?% %?20?% rgba(0,0,0,.05)}.calendar-header[data-v-1f553754]{display:flex;justify-content:space-between;align-items:center;margin-bottom:%?25?%}.month-btn[data-v-1f553754]{background:transparent;border:none;color:#ff9800;font-size:%?28?%;width:%?50?%;height:%?50?%;border-radius:50%;transition:all .2s}.month-btn[data-v-1f553754]:active{background:rgba(255,152,0,.1)}.month-btn[data-v-1f553754]:disabled{color:#ddd;cursor:not-allowed}.month-title[data-v-1f553754]{font-size:%?26?%;font-weight:600;color:#333}.week-header[data-v-1f553754]{display:flex;justify-content:space-between;margin-bottom:%?15?%}.week-day[data-v-1f553754]{width:14.28%;text-align:center;font-size:%?20?%;color:#999;font-weight:500}.date-grid[data-v-1f553754]{display:flex;flex-wrap:wrap;gap:%?12?%}.date-card[data-v-1f553754]{width:calc(14.28% - %?10?%);aspect-ratio:1/1;border-radius:%?20?%;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#f9f9f9;font-size:%?24?%;color:#333;transition:all .3s;position:relative;overflow:hidden}.date-card--empty[data-v-1f553754]{background:#fafafa;color:#ddd;cursor:default}.date-card--signed[data-v-1f553754]{background:rgba(76,175,80,.1);color:#4caf50}.date-card--today[data-v-1f553754]{background:rgba(255,122,69,.1);color:#ff7a45}.date-card--makeup[data-v-1f553754]{background:rgba(255,152,0,.1);color:#ff9800;-webkit-animation:blink-data-v-1f553754 2s ease infinite alternate;animation:blink-data-v-1f553754 2s ease infinite alternate}@-webkit-keyframes blink-data-v-1f553754{0%{box-shadow:0 0 0 0 rgba(255,152,0,.1)}100%{box-shadow:0 0 0 %?8?% rgba(255,152,0,.05)}}@keyframes blink-data-v-1f553754{0%{box-shadow:0 0 0 0 rgba(255,152,0,.1)}100%{box-shadow:0 0 0 %?8?% rgba(255,152,0,.05)}}.date-card--selected[data-v-1f553754]{border:%?2?% solid #ff9800;box-shadow:0 %?4?% %?12?% rgba(255,152,0,.15)}.date-card--active[data-v-1f553754]{-webkit-transform:translateY(%?-5?%);transform:translateY(%?-5?%);box-shadow:0 %?6?% %?16?% rgba(0,0,0,.08)}.date-num[data-v-1f553754]{font-size:%?26?%;font-weight:500}.date-tags[data-v-1f553754]{position:absolute;bottom:%?8?%;display:flex;gap:%?6?%}.tag[data-v-1f553754]{display:flex;align-items:center;gap:%?4?%;padding:%?2?% %?8?%;border-radius:%?12?%;font-size:%?14?%;font-weight:500}.tag--today[data-v-1f553754]{background:#ff7a45;color:#fff}.tag--signed[data-v-1f553754]{background:#4caf50;color:#fff}.tag--makeup[data-v-1f553754]{background:#ff9800;color:#fff}.tag-icon[data-v-1f553754]{font-size:%?16?%}.date-badge[data-v-1f553754]{position:absolute;top:%?8?%;background:linear-gradient(90deg,#ff9800,#ff7a45);color:#fff;font-size:%?12?%;padding:%?2?% %?8?%;border-radius:%?10?%;font-weight:500}\n/* 7. è¡¥ç­¾åŒºåŸŸ */.makeup-section[data-v-1f553754]{background:#fff;border-radius:%?30?%;padding:%?30?% %?20?%;margin-bottom:%?30?%;box-shadow:0 %?6?% %?20?% rgba(0,0,0,.05)}.makeup-header[data-v-1f553754]{margin-bottom:%?25?%}.makeup-title[data-v-1f553754]{display:flex;align-items:center;gap:%?12?%;font-size:%?26?%;font-weight:600;color:#333;margin-bottom:%?12?%}.title-icon[data-v-1f553754]{color:#ff9800;font-size:%?28?%}.makeup-desc[data-v-1f553754]{font-size:%?20?%;color:#666;line-height:%?30?%}.desc-highlight[data-v-1f553754]{color:#ff7a45;font-weight:500}.makeup-selected[data-v-1f553754]{display:flex;align-items:center;gap:%?12?%;background:rgba(255,152,0,.05);padding:%?16?% %?20?%;border-radius:%?20?%;margin-bottom:%?25?%;font-size:%?22?%;color:#333}.selected-icon[data-v-1f553754]{color:#ff9800;font-size:%?24?%}.makeup-cost[data-v-1f553754]{margin-left:%?16?%;font-size:%?20?%;color:#f44336;display:flex;align-items:center;gap:%?8?%}.cost-icon[data-v-1f553754]{font-size:%?22?%}.makeup-btn[data-v-1f553754]{width:100%;height:%?90?%;background:linear-gradient(90deg,#ff9800,#ff7a45);color:#fff;border-radius:%?45?%;font-size:%?26?%;font-weight:500;border:none;display:flex;align-items:center;justify-content:center;gap:%?12?%;box-shadow:0 %?6?% %?16?% rgba(255,122,69,.2);transition:all .2s}.makeup-btn--active[data-v-1f553754]{-webkit-transform:scale(.98);transform:scale(.98);box-shadow:0 %?4?% %?12?% rgba(255,122,69,.15)}.makeup-btn[data-v-1f553754]:disabled{background:#ffcc80;box-shadow:none;cursor:not-allowed}.btn-loading[data-v-1f553754]{-webkit-animation:spin-data-v-1f553754 1s linear infinite;animation:spin-data-v-1f553754 1s linear infinite;font-size:%?28?%}.btn-icon[data-v-1f553754]{font-size:%?28?%}\n/* 8. ç­¾åˆ°è§„åˆ™ï¼šæ‰‹é£ç´æ•ˆæœ */.rule-section[data-v-1f553754]{background:#fff;border-radius:%?30?%;padding:%?30?% %?20?%;box-shadow:0 %?6?% %?20?% rgba(0,0,0,.05)}.rule-header[data-v-1f553754]{display:flex;justify-content:space-between;align-items:center;padding-bottom:%?15?%;border-bottom:%?1?% solid #eee;cursor:pointer}.rule-title[data-v-1f553754]{display:flex;align-items:center;gap:%?12?%;font-size:%?26?%;font-weight:600;color:#333}.rule-toggle[data-v-1f553754]{color:#ff9800;font-size:%?24?%;transition:all .3s}.rule-toggle--open[data-v-1f553754]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.rule-content[data-v-1f553754]{overflow:hidden;transition:max-height .5s ease;margin-top:%?20?%}.rule-item[data-v-1f553754]{display:flex;align-items:flex-start;gap:%?16?%;margin-bottom:%?20?%;opacity:0;-webkit-animation:fadeIn-data-v-1f553754 .5s ease forwards;animation:fadeIn-data-v-1f553754 .5s ease forwards}@-webkit-keyframes fadeIn-data-v-1f553754{0%{opacity:0;-webkit-transform:translateY(%?10?%);transform:translateY(%?10?%)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes fadeIn-data-v-1f553754{0%{opacity:0;-webkit-transform:translateY(%?10?%);transform:translateY(%?10?%)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.rule-num[data-v-1f553754]{width:%?32?%;height:%?32?%;border-radius:50%;background:#ff9800;color:#fff;font-size:%?20?%;display:flex;align-items:center;justify-content:center;flex-shrink:0;margin-top:%?4?%}.rule-text[data-v-1f553754]{font-size:%?20?%;color:#666;line-height:%?32?%}\n/* 9. å¼¹çª—æ ·å¼ä¼˜åŒ– */.popup-mask[data-v-1f553754]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:999;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(%?8?%);backdrop-filter:blur(%?8?%)}.popup-content[data-v-1f553754]{background:#fff;border-radius:%?30?%;padding:%?50?% %?30?%;width:80%;max-width:%?500?%;text-align:center;box-shadow:0 %?10?% %?40?% rgba(0,0,0,.15)}.popup-icon[data-v-1f553754]{font-size:%?72?%;margin-bottom:%?25?%}.icon--success[data-v-1f553754]{color:#4caf50}.icon--error[data-v-1f553754]{color:#f44336}.popup-title[data-v-1f553754]{font-size:%?32?%;font-weight:600;color:#333;margin-bottom:%?15?%}.popup-desc[data-v-1f553754]{font-size:%?22?%;color:#666;line-height:%?34?%;margin-bottom:%?40?%}.popup-btn[data-v-1f553754]{width:60%;height:%?80?%;background:#ff9800;color:#fff;border-radius:%?40?%;font-size:%?26?%;border:none;transition:all .2s}.popup-btn[data-v-1f553754]:active{-webkit-transform:scale(.95);transform:scale(.95);background:#f57c00}",""]),n.exports=t},"73e1":function(n,t,a){"use strict";var e=a("29d8");n.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(e)},"795c":function(n,t,a){"use strict";var e=a("8bdb"),i=a("db04").start,o=a("73e1");e({target:"String",proto:!0,forced:o},{padStart:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)}})},9761:function(n,t,a){var e=a("5520");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var i=a("967d").default;i("54f56cdc",e,!0,{sourceMap:!1,shadowMode:!1})},acbe:function(n,t,a){"use strict";a("6a54");var e=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=e(a("2634")),o=e(a("5de6")),r=e(a("2fdc")),s=e(a("9b1b"));a("c223"),a("795c"),a("64aa"),a("bf0f"),a("2797"),a("18f7"),a("de6c"),a("fd3c"),a("08eb"),a("4626"),a("5ac7"),a("aa9c"),a("7a76"),a("c9b5");var c=a("8f59"),d=a("fad5"),u=function(n){if(!n)return"";var t=new Date(n);return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"))},l=function(){return u((new Date).toISOString())},f=function(n){return n>0&&n%7===0?20:10},g={data:function(){return{currentYear:(new Date).getFullYear(),currentMonth:(new Date).getMonth()+1,dateList:[],signRecords:[],totalSignDays:0,continuousDays:0,selectedMakeupDate:"",hasMakeupDate:!1,makeupLoading:!1,signLoading:!1,isTodaySigned:!1,todayReward:5,showRule:!1,showPopup:!1,showCelebration:!1,lastSignIntegration:0,lastSignGrowth:0,ruleList:["æ¯æ—¥é¦–æ¬¡ç­¾åˆ°å¯è·5-20ç§¯åˆ†ï¼Œè¿ç»­å¤©æ•°è¶Šå¤šå¥–åŠ±è¶Šé«˜","è¿‘3å¤©æœªç­¾åˆ°æ—¥æœŸå¯è¡¥ç­¾ï¼Œæ¯æ¬¡æ¶ˆè€—50ç§¯åˆ†","ç´¯è®¡ç­¾åˆ°æ»¡30å¤©ï¼Œé¢å¤–èµ é€100ç§¯åˆ†å¥–åŠ±","è¿ç»­ç­¾åˆ°7å¤©/14å¤©/30å¤©ï¼Œå¯è·ä¸“å±å¾½ç« æ ‡è¯†"]}},computed:(0,s.default)((0,s.default)({},(0,c.mapState)(["hasLogin","userInfo"])),{},{isCurrentMonthPage:function(){var n=new Date;return this.currentYear===n.getFullYear()&&this.currentMonth===n.getMonth()+1},isPrevMonthDisabled:function(){var n=new Date,t=new Date(this.currentYear,this.currentMonth-2),a=n.getFullYear()-1;return t.getFullYear()<a}}),directives:{"number-animation":function(n,t){var a=Number(t.value)||0,e=0,i=Math.ceil(a/30),o=setInterval((function(){e+=i,e>=a&&(e=a,clearInterval(o)),n.textContent=e}),30);n.__timer__=o}},beforeUnmount:function(){document.querySelectorAll("[number-animation]").forEach((function(n){clearInterval(n.__timer__)}))},onLoad:function(){var n=this;if(!this.hasLogin)return uni.showToast({title:"è¯·å…ˆç™»å½•",icon:"none"}),void setTimeout((function(){return n.navBack()}),1500);this.initData()},methods:{initData:function(){var n=this;return(0,r.default)((0,i.default)().mark((function t(){var a,e,r,c,l,g,v;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([(0,d.getMemberPoints)(),(0,d.getTotalSignDays)(),(0,d.getSignInRecords)(n.currentYear,n.currentMonth),(0,d.getContinuousSignInDays)()]);case 3:a=t.sent,e=(0,o.default)(a,4),r=e[0],c=e[1],l=e[2],g=e[3],v=r.data||{},n.$store.commit("updateIntegration",v.integration||0),n.$store.commit("updateGrowth",v.totalGrowth||0),n.totalSignDays=c.data||0,n.continuousDays=g.data||0,n.todayReward=f(n.continuousDays),n.signRecords=(l.data||[]).map((function(n){return(0,s.default)((0,s.default)({},n),{},{signInDate:u(n.signInDate)})})),n.generateCalendar(),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](0),n.showPopupFn("error","åŠ è½½å¤±è´¥","æ•°æ®åŠ è½½å‡ºé”™ï¼Œè¯·ç¨åé‡è¯•");case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))()},generateCalendar:function(){var n=[],t=new Date(this.currentYear,this.currentMonth-1,1),a=new Date(this.currentYear,this.currentMonth,0),e=l(),i=Array.from({length:3},(function(n,t){var a=new Date;return a.setDate(a.getDate()-t-1),u(a.toISOString())})),o=this.signRecords.map((function(n){return n.signInDate}));this.hasMakeupDate=i.some((function(n){return!o.includes(n)})),this.isTodaySigned=o.includes(e);for(var r=t.getDay(),s=r-1;s>=0;s--){var c=new Date(this.currentYear,this.currentMonth-1,-s);n.push({date:u(c.toISOString()),day:c.getDate(),isCurrentMonth:!1,isSigned:!1,canMakeup:!1,isToday:!1})}for(var d=1;d<=a.getDate();d++){var f=new Date(this.currentYear,this.currentMonth-1,d),g=u(f.toISOString()),v=o.includes(g),p=g===e,b=i.includes(g)&&!v&&!p;n.push({date:g,day:d,isCurrentMonth:!0,isSigned:v,canMakeup:b,isToday:p})}this.dateList=n},changeMonth:function(n){var t=this;return(0,r.default)((0,i.default)().mark((function a(){var e,o;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t.currentMonth+n,e<1?(t.currentYear--,t.currentMonth=12):e>12?(t.currentYear++,t.currentMonth=1):t.currentMonth=e,a.prev=2,a.next=5,(0,d.getSignInRecords)(t.currentYear,t.currentMonth);case 5:o=a.sent,t.signRecords=(o.data||[]).map((function(n){return(0,s.default)((0,s.default)({},n),{},{signInDate:u(n.signInDate)})})),t.generateCalendar(),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](2),t.showPopupFn("error","åˆ‡æ¢å¤±è´¥","è·å–è¯¥æœˆè®°å½•å¤±è´¥");case 13:case"end":return a.stop()}}),a,null,[[2,10]])})))()},handleDateClick:function(n){n.canMakeup?this.selectedMakeupDate=n.date:n.isToday&&!n.isSigned&&this.handleSignToday()},handleSignToday:function(){var n=this;return(0,r.default)((0,i.default)().mark((function t(){var a,e,o,r;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.signLoading=!0,t.prev=1,t.next=4,(0,d.doSignIn)();case 4:if(a=t.sent,e=a.data||{},200===a.code){t.next=8;break}throw new Error(e.message||"ç­¾åˆ°å¤±è´¥");case 8:o=(n.userInfo.integration||0)+(e.integration||0),r=(n.userInfo.growth||0)+(e.growth||0),n.lastSignIntegration=e.integration||0,n.lastSignGrowth=e.growth||0,n.$store.commit("updateIntegration",o),n.$store.commit("updateGrowth",r),n.totalSignDays++,n.continuousDays++,n.signRecords.push({signInDate:l(),integration:e.integration||0,growth:e.growth||0}),n.generateCalendar(),n.signLoading=!1,n.showCelebration=!0,t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](1),n.signLoading=!1,n.showPopupFn("error","ç­¾åˆ°å¤±è´¥",t.t0.data.message||"è¯·ç¨åé‡è¯•");case 26:case"end":return t.stop()}}),t,null,[[1,22]])})))()},handleMakeup:function(){var n=this;return(0,r.default)((0,i.default)().mark((function t(){var a,e,o,r;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.selectedMakeupDate){t.next=2;break}return t.abrupt("return",n.showPopupFn("error","è¡¥ç­¾å¤±è´¥","è¯·é€‰æ‹©è¡¥ç­¾æ—¥æœŸ"));case 2:if(a=n.userInfo.integration||0,!(a<50)){t.next=5;break}return t.abrupt("return",n.showPopupFn("error","è¡¥ç­¾å¤±è´¥","ç§¯åˆ†ä¸è¶³50"));case 5:return n.makeupLoading=!0,t.prev=6,t.next=9,(0,d.doMakeUpSignIn)(n.selectedMakeupDate);case 9:if(e=t.sent,o=e.data||{},200===e.code){t.next=13;break}throw new Error(o.message||"è¡¥ç­¾å¤±è´¥");case 13:r=a-50+(o.integration||0),n.$store.commit("updateIntegration",r),n.totalSignDays++,n.signRecords.push({signInDate:n.selectedMakeupDate,integration:o.integration||0,growth:o.growth||0}),n.generateCalendar(),n.selectedMakeupDate="",n.makeupLoading=!1,n.showPopupFn("success","è¡¥ç­¾æˆåŠŸ","æ¶ˆè€—50ç§¯åˆ†ï¼Œè·å¾—".concat(o.integration||0,"ç§¯åˆ†ï¼Œå‰©ä½™").concat(r,"åˆ†")),t.next=28;break;case 23:t.prev=23,t.t0=t["catch"](6),n.makeupLoading=!1,console.log(t.t0),n.showPopupFn("error","è¡¥ç­¾å¤±è´¥",t.t0.data.message||"è¯·ç¨åé‡è¯•");case 28:case"end":return t.stop()}}),t,null,[[6,23]])})))()},getSignStreakColor:function(){return this.continuousDays>=30?"#FF6B6B":this.continuousDays>=14?"#FF9F43":this.continuousDays>=7?"#FFC048":"#95A5A6"},backBtnTouch:function(n){n.currentTarget.classList.add("back-btn--active"),setTimeout((function(){return n.currentTarget.classList.remove("back-btn--active")}),200)},signBtnTouch:function(n){n.currentTarget.classList.add("sign-now-btn--active"),setTimeout((function(){return n.currentTarget.classList.remove("sign-now-btn--active")}),200)},makeupBtnTouch:function(n){n.currentTarget.classList.add("makeup-btn--active"),setTimeout((function(){return n.currentTarget.classList.remove("makeup-btn--active")}),200)},dateCardTouch:function(n){var t=document.querySelectorAll(".date-card")[n];t&&(t.classList.add("date-card--active"),setTimeout((function(){return t.classList.remove("date-card--active")}),200))},toggleRule:function(){this.showRule=!this.showRule},showPopupFn:function(n,t,a){this.popupType=n,this.popupTitle=t,this.popupDesc=a,this.showPopup=!0},closePopup:function(){this.showPopup=!1},closeCelebration:function(){this.showCelebration=!1},navBack:function(){uni.navigateBack({delta:1})}}};t.default=g},afa8:function(n,t,a){"use strict";a.r(t);var e=a("acbe"),i=a.n(e);for(var o in e)["default"].indexOf(o)<0&&function(n){a.d(t,n,(function(){return e[n]}))}(o);t["default"]=i.a},cf9e:function(n,t,a){"use strict";var e=a("9761"),i=a.n(e);i.a},db04:function(n,t,a){"use strict";var e=a("bb80"),i=a("c435"),o=a("9e70"),r=a("f298"),s=a("862c"),c=e(r),d=e("".slice),u=Math.ceil,l=function(n){return function(t,a,e){var r,l,f=o(s(t)),g=i(a),v=f.length,p=void 0===e?" ":o(e);return g<=v||""===p?f:(r=g-v,l=c(p,u(r/p.length)),l.length>r&&(l=d(l,0,r)),n?f+l:l+f)}};n.exports={start:l(!1),end:l(!0)}},f298:function(n,t,a){"use strict";var e=a("497b"),i=a("9e70"),o=a("862c"),r=RangeError;n.exports=function(n){var t=i(o(this)),a="",s=e(n);if(s<0||s===1/0)throw new r("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(a+=t);return a}},fad5:function(n,t,a){"use strict";a("6a54");var e=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.doMakeUpSignIn=function(n){return(0,i.default)({url:"/sso/signIn/makeUp",method:"post",data:{signInDate:n}})},t.doSignIn=function(){return(0,i.default)({url:"/sso/signIn/signIn",method:"post"})},t.getContinuousSignInDays=function(){return(0,i.default)({url:"/sso/signIn/continuousDays",method:"get"})},t.getMemberPoints=function(){return(0,i.default)({url:"/sso/signIn/points",method:"GET"})},t.getMemberSignInRecords=function(){return(0,i.default)({url:"/sso/signIn/reecords",method:"GET"})},t.getSignInRecords=function(n,t){return(0,i.default)({url:"/sso/signIn/records",method:"get",params:{year:n,month:t}})},t.getTodaySignInStatus=function(){return(0,i.default)({url:"/sso/signIn/todayStatus",method:"get"})},t.getTotalSignDays=function(){return(0,i.default)({url:"/sso/signIn/totalDays",method:"get"})};var i=e(a("4b02"))}}]);